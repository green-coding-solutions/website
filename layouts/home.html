{{ define "main" }}

<img src="/img/index_background.webp" class="ui image full-width-image" alt="Green Coding Header">

<section id="about" class="bg-one">
    <div id="nav-about"></div>
    <div class="section-one">
        <div class="title-one">{{ i18n "home_what_we_do" }}</div>
        <div class="separator">
            <div class="line line-1"></div>
        </div>
        <div class="data-content-one">
            <p>{{ i18n "home_teaser" }}</p>
            <div class="btn-one">
                <a href="{{ absLangURL "services" }}"><span>{{i18n "home_cta"}}</span></a>
            </div>
        </div>
        <div class="separator">
            <div class="line line-1"></div>
        </div>
        <div class="data-content-one">
            <a href="{{ absLangURL "about" }}">{{ i18n "home_about_details" }}</a>.
        </div>
    </div>
</section><!-- end about -->
<section id="projects" class="bg-two">
    <div id="nav-projects"></div>
    <div class="section-two bottom-works">
        <h1><div class="title-two">{{ i18n "home_projects" }}</div></h1>
        <div class="separator">
            <div class="line line-2"></div>
        </div>
        <div class="data-content-two">
            {{ i18n "home_projects_teaser" }}
        </div>
        <div id="project-items-container" class="data-content-two">
            {{/*
                In an untranslated page this call would be ... where .Site.RegularPages "Type" ...
                But since the Site object changes depending on the current language we will get an empty folder
                if a folder is not fully translated
            */}}

            {{ range $index, $element := ( first 9 ( where .Site.RegularPages "Type" "projects" ) ) }}
                <a class="project-item" href="{{.Permalink}}">
                    <i class="{{ .Params.Icon }} icon"></i>
                    <div class="project-item-title">{{ .Title }}</div>
                </a>
            {{end}}
        </div>

    </div><!-- end portfolio -->

</section><!-- end contact -->

{{ partialCached "team.html" . }}

<section class="works-container bg-two">
    <div id="nav-events"></div>
    <div class="section-two bottom-works">
        <div class="works-header">
            <h2><div class="title-two">Talks & Events</div></h2>
        </div>
        {{ $filteredPages := slice }}
        {{ range .Site.RegularPages }}
            {{ if and (eq .Type "talks-and-events") (eq .Params.future true) }}
                {{ $filteredPages = $filteredPages | append . }}
            {{ end }}
        {{ end }}

        {{ if ne (len $filteredPages) 0 }}
            <div id="portfolio" class="container">
                <div class="data-content-two">
                    <h3>{{ i18n "future_home_talks_teaser" }}</h3>
                </div>
                <div class="section portfoliocontent">
                    <div id="container2" class="clearfix">
                        <div class="inici"></div>
                            {{ range $index, $element := first 3 $filteredPages }}
                            <div class="element talks">
                                <a href="{{.Permalink}}">
                                    <div class="ch-grid">
                                        <div class="work-info"><span> {{.Title}}<br><span>{{.Params.Eventtype}}</span></span></div>
                                        {{ if (isset .Params "eventimg600w") }}
                                        <img srcset="{{.Params.Eventimg}} 1x,
                                        {{.Params.Eventimg600w}} 2x" src="{{.Params.Eventimg}}" style="width: 300px"
                                        loading="lazy">
                                        {{ else }}
                                        <img src="{{.Params.Eventimg}}" style="width: 300px" loading="lazy">
                                        {{ end }}
                                    </div>
                                </a>
                            </div>
                            {{end}}
                        <div class="final"></div>
                    </div>
                </div> <!-- #container -->
            </div> <!-- /END ISOTOPE PORTFOLIO-->
        {{ end }}

        <div id="portfolio" class="container">
            <div class="data-content-two">
                <h3>{{ i18n "past_home_talks_teaser" }}</h3>
            </div>

            <div class="section portfoliocontent">
                <div id="container2" class="clearfix">
                    <div class="inici"></div>

                    {{/*
                        In an untranslated page this call would be ... where .Site.RegularPages "Type" ...
                        But since the Site object changes depending on the current language we will get an empty folder
                        if a folder is not fully translated

                   */}}

                   {{ $filteredPages := slice }}
                    {{ range .Site.RegularPages }}
                        {{ if and (eq .Type "talks-and-events") (or (not (isset .Params "future")) (eq .Params.future false)) }}
                            {{ $filteredPages = $filteredPages | append . }}
                        {{ end }}
                    {{ end }}


                    {{ range $index, $element := first 6 $filteredPages }}
                    <div class="element talks">
                        <a href="{{.Permalink}}">
                            <div class="ch-grid">
                                <div class="work-info"><span> {{.Title}}<br><span>{{.Params.Eventtype}}</span></span></div>
                                {{ if (isset .Params "eventimg600w") }}
                                <img srcset="{{.Params.Eventimg}} 1x,
                                {{.Params.Eventimg600w}} 2x" src="{{.Params.Eventimg}}" style="width: 300px"
                                loading="lazy">
                                {{ else }}
                                <img src="{{.Params.Eventimg}}" style="width: 300px" loading="lazy">
                                {{ end }}
                            </div>
                        </a>
                    </div>
                    {{end}}
                    <div class="final"></div>
                </div>
                <div class="data-content-two">
                    {{/* Use absLangURL here for a german list. But it will only work if there also articles that end in .de*/}}
                    ðŸ‘‰ <a href="{{ absURL "talks-and-events" }}" style="color: white; text-decoration: underline;">{{ i18n "home_talks_full_list" }}</a>
                </div>


            </div> <!-- #container -->
        </div> <!-- /END ISOTOPE PORTFOLIO-->

    </div><!-- end portfolio -->
</section>

{{ partialCached "references.html" . }}

{{ end }}